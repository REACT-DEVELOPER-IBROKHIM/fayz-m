{%- render 'stylesheet', name: 'product-carousel' -%}
<script  src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script  src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>


<section class="product-carousel">
    <product-carousel>
       <div class="product-carousel__wrapper">
            <div class="carousel">
                {% for block in section.blocks %}
                   {% if block.settings.product_image %}
                        <div class="carousel__item">
                            {{ block.settings.product_image | image_url: width: 2000 | image_tag: class: "carousel-image" }} 
                        </div>
                   {% endif %}
                {% endfor %}
            </div>
       </div>
    </product-carousel>
</section>

{% schema %}
    {
        "name": "product-carousel",
        "blocks": [
            {
                "type" : "product_item",
                "name": "Product item block",
                "settings": [
                    {
                        "type" : "image_picker",
                        "id" : "product_image",
                        "label" : "Product image"
                    },
                    {
                        "type" : "text",
                        "id" : "product_title",
                        "label" : "Product title"
                    },
                    {
                        "type" : "text",
                        "id" : "product_text",
                        "label" : "Product text"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Product carousel"
            }
        ]
    }
{% endschema %}